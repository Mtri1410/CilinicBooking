<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">

<head>
    <meta charset="UTF-8">
    <title layout:title-pattern="$LAYOUT_TITLE - $CONTENT_TITLE">Admin Panel</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- We will gradually remove styles from admin-style.css -->
    <link rel="stylesheet" th:href="@{/css/admin-style.css}">
    <style>
        /* Basic body reset that Tailwind might not cover or to ensure full height */
        html,
        body {
            height: 100%;
            margin: 0;
            padding: 0;
            font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
        }

        /* Custom scrollbar for webkit browsers (optional) */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: #f1f1f1;
        }

        ::-webkit-scrollbar-thumb {
            background: #888;
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #555;
        }
    </style>
</head>

<body class="flex h-screen bg-gray-100">

    <!-- Sidebar -->
    <div id="sidebar" class="w-64 bg-gray-800 text-white flex flex-col fixed inset-y-0 left-0 shadow-lg z-50">
        <div class="p-5 border-b border-gray-700">
            <h2 class="text-xl font-semibold text-center">Admin Panel</h2>
        </div>
        <nav class="flex-grow p-4 space-y-2 overflow-y-auto">
            <a th:href="@{/admin}"
                class="flex items-center px-4 py-2.5 rounded-lg text-sm font-medium transition-colors duration-200 hover:bg-gray-700 hover:text-white"
                th:classappend="${currentUri != null && currentUri.matches('^/admin(?:/(?:dashboard)?)?$') ? 'bg-blue-600 text-white' : 'text-gray-400'}">
                Dashboard
            </a>
            <a th:href="@{/admin/accounts}"
                class="flex items-center px-4 py-2.5 rounded-lg text-sm font-medium transition-colors duration-200 hover:bg-gray-700 hover:text-white"
                th:classappend="${currentUri != null && currentUri.startsWith('/admin/accounts') ? 'bg-blue-600 text-white' : 'text-gray-400'}">
                Quản lí tài khoản
            </a>
            <a th:href="@{/admin/users}"
                class="flex items-center px-4 py-2.5 rounded-lg text-sm font-medium transition-colors duration-200 hover:bg-gray-700 hover:text-white"
                th:classappend="${currentUri != null && currentUri.startsWith('/admin/users') ? 'bg-blue-600 text-white' : 'text-gray-400'}">
                Quản lí người dùng
            </a>
            <a th:href="@{/admin/partners}"
                class="flex items-center px-4 py-2.5 rounded-lg text-sm font-medium transition-colors duration-200 hover:bg-gray-700 hover:text-white"
                th:classappend="${currentUri != null && currentUri.startsWith('/admin/partners') ? 'bg-blue-600 text-white' : 'text-gray-400'}">
                Quản lí đối tác
            </a>
            <a th:href="@{/admin/revenue-stats}"
                class="flex items-center px-4 py-2.5 rounded-lg text-sm font-medium transition-colors duration-200 hover:bg-gray-700 hover:text-white"
                th:classappend="${currentUri != null && currentUri.startsWith('/admin/revenue-stats') ? 'bg-blue-600 text-white' : 'text-gray-400'}">
                Thống kê doanh thu
            </a>
            <a th:href="@{/admin/reviews}"
                class="flex items-center px-4 py-2.5 rounded-lg text-sm font-medium transition-colors duration-200 hover:bg-gray-700 hover:text-white"
                th:classappend="${currentUri != null && currentUri.startsWith('/admin/reviews') ? 'bg-blue-600 text-white' : 'text-gray-400'}">
                Quản lí đánh giá
            </a>
        </nav>
        <div class="p-4 border-t border-gray-700">
            <a th:href="@{/}"
                class="flex items-center justify-center px-4 py-2.5 rounded-lg text-sm font-medium bg-gray-700 hover:bg-gray-600 transition-colors duration-200 text-gray-200">
                Về trang chủ
            </a>
        </div>
    </div>

    <!-- Main Content -->
    <div id="main-content-wrapper" class="flex-1 flex flex-col ml-64 overflow-y-auto">
        <!-- Header placeholder (optional, can be added to specific pages or here) -->
        <!-- <header class="bg-white shadow-sm p-4">
            <h1 class="text-xl font-semibold text-gray-700">Page Title</h1>
        </header> -->

        <main class="flex-grow p-6" layout:fragment="content">
            <!-- Content from specific pages will be inserted here -->
            <p>This is default content from the layout page. If you see this, the content fragment was not correctly
                replaced.</p>
        </main>

        <!-- Footer placeholder (optional) -->
        <!-- <footer class="bg-white border-t p-4 text-center text-sm text-gray-600">
            © 2023 Clinic Booking Admin
        </footer> -->
    </div>

    <!-- Common scripts can go here -->
    <th:block layout:fragment="scripts"></th:block>
</body>

</html>